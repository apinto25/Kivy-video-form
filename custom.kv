
<LoginWindow>:
    user_name: user_name
    password: password
    name:"login"

    GridLayout:
        canvas:
            Color:
                rgba: 0, 0.5, 0.5, 0.5
            Rectangle:
                size: self.size
                pos: self.pos

        cols: 1
        padding: [20,20,20,20]
        spacing: 10

        BoxLayout:
            orientation: "vertical"

            Label:
                text: "Ana come banana"
                halign: "center"
                text_size: root.width, 15

            Image:
                id: logo_image
                source: "chicken.png"
                allow_stretch: True
                pos_hint: {'center_x': .5, 'center_y': .5}

        BoxLayout:
            orientation: "vertical"
            cols: 2
            BoxLayout:
                spacing: 10
                padding: 10
                Label:
                    text: 'Usuario'
                    size_hint: 0.8, 0.8

                TextInput:
                    id: user_name
                    multiline: False
                    size_hint: 0.8, 0.8

            BoxLayout:
                spacing: 10
                padding: 10
                Label:
                    text: 'Contraseña'
                    size_hint: 0.8, 0.8

                TextInput:
                    id: password
                    size_hint: 0.8, 0.8
                    multiline: False
                    password: True

            BoxLayout:
                spacing: 10
                padding: 10

                Button:
                    text: "Crear Usuario"
                    size_hint: 0.8, 0.8
                    on_release:
                        root.create_user()
                        root.manager.transition.direction = "right"
                Button:
                    text: "Ingresar"
                    size_hint: 0.8, 0.8
                    on_release:
                        root.submit()
                        root.manager.transition.direction = "up"

<NewUserWindow>:
    full_name: full_name
    user_name: user_name
    email: email
    password: password
    password_again: password_again

    name:"new_user"

    GridLayout:
        canvas:
            Color:
                rgba: 0,0.5,0.4, 1
            Rectangle:
                size: self.size
                pos: self.pos

        cols: 1
        padding: [20,20,20,20]
        spacing: 10

        BoxLayout:
            orientation: "vertical"
            Label:
                text: "Ana come banana"
                halign: "center"
                text_size: root.width, 15
            Image:
                id: logo_image
                source: "chicken.png"
                width: 100
                allow_stretch: True
                pos_hint: {'center_x': .5, 'center_y': .5}

#        BoxLayout:
#            orientation: "vertical"
#            cols: 2
            BoxLayout:
                spacing: 10
                padding: 10
                Label:
                    text: 'Nombre completo'

                TextInput:
                    id: full_name
                    multiline: False

            BoxLayout:
                spacing: 10
                padding: 10
                Label:
                    text: 'Usuario'

                TextInput:
                    id: user_name
                    multiline: False

            BoxLayout:
                spacing: 10
                padding: 10
                Label:
                    text: 'Email'

                TextInput:
                    id: email
                    multiline: False

            BoxLayout:
                spacing: 10
                padding: 10
                Label:
                    text: 'Contraseña'

                TextInput:
                    id: password
                    multiline: False
                    password: True

            BoxLayout:
                spacing: 10
                padding: 10
                Label:
                    text: 'Confirmar contraseña'

                TextInput:
                    id: password_again
                    multiline: False
                    password: True

            BoxLayout:
                spacing: 10
                padding: 10
                Button:
                    text: "Regresar"
                    on_release:
                        root.go_login()
                        root.manager.transition.direction = "left"
                Button:
                    text: "Crear"
                    on_release:
                        root.create_user()
                        root.manager.transition.direction = "left"

<MainUserWindow>:
    name:"main"

    GridLayout:
        canvas:
            Color:
                rgba: 0,0.7,0.4, 1
            Rectangle:
                size: self.size
                pos: self.pos

        cols: 1
        padding: [20,20,20,20]
        spacing: 10

        orientation: 'vertical'
        Camera:
            id: camera
            resolution: (320, 240)
            play: False
        ToggleButton:
            text: 'Play'
            on_press: camera.play = not camera.play
            size_hint_y: None
            height: '48dp'
        Button:
            text: 'Capture'
            size_hint_y: None
            height: '48dp'
            on_press: root.capture()
